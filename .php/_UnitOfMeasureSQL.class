<?php 

class UnitOfMeasureSQL implements IentitySQL{
public function cols(){
$query = "um.id, ";
$query .= " um.type, ";
$query .= " um.name, ";
$query .= " um.updated, ";
$query .= " um.created, ";
$query .= " um.notes, ";
$query .= " um.symbol ";
return $query;	
}
public function info($id){
$query = " SELECT ";	
$query .= $this->cols();
$query .= " FROM units_of_measure um ";
$query .= " WHERE  ";
$query .= " um.id = '".$id."' ";
return $query;
}
public function list($page = 1, $rows = 10){
$query = " SELECT ";	
$query .= $this->cols();
$query .= " FROM units_of_measure um ";
$query .= " ORDER BY type, name ";
$query .= sqlLimitClause($resultPage, $rowsPerPage);
return $query;	
}
public function count(){
$query = " SELECT ";	
$query .= " COUNT(*) total_units ";
$query .= " FROM units_of_measure um ";
return $query;	
}
public function options($selectedId = 0, $disabled = 'false'){
	$q = " SELECT ";
	$q .= " um.type, ";
	$q .= " um.id as value, ";
	$q .= " concat(um.name,'(',um.symbol,')') as caption ";
	$q .= " FROM units_of_measure um ";
	if ($disabled == 'true'){
		$q .= " WHERE um.id = ".$selectedId." ";	
	}
	$q .= " ORDER BY type, caption ";
	return $q;	
}
}
?>
