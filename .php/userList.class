<?php 


class userList extends _entityList{
protected $__MyClassName = 'UserList';
protected $_titleEntity = 'UserProfiles';

	public $userTypeId = 0;

	protected function setHelperClasses(){
	 	$this->base = new user($this-pageMode,$this->id,$this->idParent);
	}
	 

	protected function setPageMenu(){
		$menuType = 'LIST';
		$menuStyle = 'menu';
		
	//	$userL = new UserLinks($menuType,$menuStyle);
		$menuL = new MenuLinks($menuType,$menuStyle);
		
		$menu = $userL->openMenu('section-heading-links');
		$menu .= $menuL->linkReference();
		$menu .= $userL->resetMenu();
		if ($_SESSION['is-admin'] == 'yes'){
			//only allow admins to add users
			$menu .= $userL->detailAddHref();
		}
		$menu .= $userL->listingHref();
		
		$menu .= $userL->closeMenu();
		$this->_pageMenu = $menu;			
	}
		
	protected function listingQuickEdit(){ 
		if ($_SESSION['is-admin'] == 'yes'){
		$quickEdit = $this->base->addForm();		
		} else {
		$quickEdit = 'Please request Administrator assistance to add users';
		return $quickEdit;
		}
	}
	
	protected function listingSQL(){
		$s = $this->base->sql->listUsers($this->base->f->idType,$this->resultPage,$this->perPage);
		return $s;
	}
			
}
?>
