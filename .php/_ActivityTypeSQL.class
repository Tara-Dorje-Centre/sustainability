<?php 
 
class ActivityTypeSQL implements IentitySQL{
public function cols(){
	$c = "pt.id, ";
	$c .= " pt.description, ";
	$c .= " pt.name, ";
	$c .= " pt.updated, ";
	$c .= " pt.created, ";
	$c .= " pt.display_order, ";
	$c .= " pt.highlight_style, ";
	$c .= " pt.notes ";
	return $c;	
}

public function info($id){
	$q = " SELECT ";	
	$q .= $this->cols();
	$q .= " FROM activity_types pt ";
	$q .= " WHERE  ";
	$q .= " pt.id = '".$id."' ";
	return $q;
}

public function list($page = 1, $rows = 10){
	$q = " SELECT ";	
	$q .= $this->cols();
	$q .= " FROM activity_types pt ";
	$q .= " ORDER BY display_order, name ";
	$q .= sqlLimitClause($page, $rows);
	return $q;	
}

public function count(){
	$q = " SELECT ";	
	$q .= " COUNT(*) total_types ";
	$q .= " FROM activity_types pt ";
	return $q;	
}

public function options($selectedId = 0, $disabled = 'false'){
	$q = " SELECT ";
	$q .= " pt.id as value, ";
	$q .= " pt.name as caption, ";
	$q .= " pt.display_order ";
	$q .= " FROM activity_types pt ";
	if ($disabled == 'true'){
		$q .= " WHERE pt.id = ".$selectedId." ";
	}
	$q .= " ORDER BY display_order, caption ";
	return $q;	
}
}
?>
