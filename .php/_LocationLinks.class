<?php 

class LocationLinks extends _Links {
	public function __construct($menuType = 'DIV',$styleBase = 'menu'){
		parent::__construct($menuType,$styleBase);
	}
	public function listingHref($parentLocationId = -1, $caption = 'Locations'){
		$link = $this->listing($parentLocationId);
		$href = $this->formatHref($caption,$link);
		return $href;	
	}	
	private function detailHref($pageAction = 'VIEW', $locationId = 0, $parentLocationId = 0, $caption = 'Location'){
		$link = $this->detail($pageAction,$locationId,$parentLocationId);
		$href = $this->formatHref($caption,$link);
		return $href;	
	}	
	public function listing($parentLocationId = -1){
		$link = 'pr_Location_List.php'.'?parentLocationId='.$parentLocationId;
		return $link;
	}
	
	public function listingPaged($parentLocationId, $found, $resultPage=1, $perPage=10){
		$l = $this->listing($parentLocationId).'&resultsPage=';
		$ls = $this->getPagedLinks($l, $found,$perPage,$resultPage);
		return $ls;
	}

	public function detail($pageAction, $locationId = 0, $parentLocationId = 0){
		$link = 'pr_Location_Detail.php?pageAction='.$pageAction;
		if ($locationId != 0){
			$link .= '&locationId='.$locationId;
		}
	if ($parentLocationId != 0){
			$link .= '&parentLocationId='.$parentLocationId;
	}

		return $link;
	}	
	public function detailAddHref($parentLocationId = 0,$caption = '+Location'){
		$l = $this->detailHref('ADD',0,$parentLocationId,$caption);
		return $l;	
	}
	public function detailViewHref($locationId,$caption = 'ViewLocation'){
		$l = $this->detailHref('VIEW',$locationId,0,$caption);
		return $l;	
	}
	public function detailEditHref($locationId,$caption = 'EditLocation'){
		$l = $this->detailHref('EDIT',$locationId,0,$caption);
		return $l;	
	}
	public function detailViewEditHref($locationId = 0, $viewCaption = 'Location'){
		
		if ($locationId != 0){
			$links = $this->detailViewHref($locationId,$viewCaption);
			$links .= $this->detailEditHref($locationId,'#');
		} else {
			$links = $this->listingHref(-1,'Locations');
		}
		return $links;
	}	
	
}
?>
