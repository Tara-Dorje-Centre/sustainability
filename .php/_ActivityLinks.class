<?php 

class ActivityLinks extends _Links {
	public function __construct($menuType = 'DIV',$styleBase = 'menu'){
		parent::__construct($menuType,$styleBase);
	}
	public function listingHref($taskId,$caption = 'Activities',$myActivity='NO',$showCalendar = 'NO',$projectId = 0){
		$link = $this->listing($taskId,$myActivity,$showCalendar,$projectId);
		$href = $this->formatHref($caption,$link);
		return $href;	
	}	
	private function detailHref($pageAction = 'VIEW', $activityId = 0, $taskId = 0, $caption = 'Activity'){
		$link = $this->detail($pageAction,$activityId,$taskId);
		$href = $this->formatHref($caption,$link);
		return $href;	
	}
	public function listing($taskId, $myActivity = 'NO',$showCalendar = 'NO',$projectId = 0){
		$link = 'pr_Activity_List.php?taskId='.$taskId;
		if ($myActivity != 'NO'){
			$link .= '&myActivity='.$myActivity;
		}
		if ($showCalendar != 'NO'){
			$link .= '&showCalendar='.$showCalendar;
		}
		if ($projectId != 0){
			$link .= '&projectId='.$projectId;
		}
		return $link;
	} 
	public function listingPaged($baseLink,$found, $resultPage, $perPage){
		$l = $baseLink.'&resultsPageActivity=';
		$ls = $this->getPagedLinks($l, $found,$perPage,$resultPage);
		return $ls;
	}

	public function detail($pageAction, $activityId, $taskId = 0){
		$link = 'pr_Activity_Detail.php?pageAction='.$pageAction;
		if($taskId != 0){
			$link .= '&taskId='.$taskId;			
		}
		if ($activityId != 0){
			$link .= '&activityId='.$activityId;
		}
		return $link;
	}	
	public function detailAddHref($taskId,$caption = '+Activity'){
		$l = $this->detailHref('ADD',0,$taskId,$caption);
		return $l;	
	}
	public function detailViewHref($activityId,$caption = 'ViewActivity'){
		$l = $this->detailHref('VIEW',$activityId,0,$caption);
		return $l;	
	}
	public function detailEditHref($activityId,$caption = 'EditActivity'){
		$l = $this->detailHref('EDIT',$activityId,0,$caption);
		return $l;	
	}
	public function detailViewEditHref($activityId = 0, $viewCaption = 'Activity'){
		
		if ($activityId != 0){
			$links = $this->detailViewHref($activityId,$viewCaption);
			$links .= $this->detailEditHref($activityId,'#');
		}
		return $links;
	}	
	public function linkMyActivities(){
		return $this->listingHref(-1,'My History','YES');		
	}
	public function linkGroupActivities(){
		return $this->listingHref(-1,'Group History','GROUP');
	}
	public function linkMyCalendar(){
		return $this->listingHref(-1,'My Calendar','YES','YES');
	}
	public function linkGroupCalendar(){
		return $this->listingHref(-1,'Group Calendar','GROUP','YES');
	}
	public function linkProjectCalendar($projectId){
		return $this->listingHref(-1,'Calendar','PROJECT','YES',$projectId);		
	}
	public function linkProjectActivities($projectId){
		return $this->listingHref(-1,'Project History','PROJECT','NO',$projectId);		
	}

}
?>
