<?php 

class userLinks extends _entityLinks {


	protected $_pageList = 'sys_User_List.php';
	protected $_pageDetail = 'sys_User_Detail.php';
	
	public function __construct($menuType = 'DIV',$styleBase = 'menu'){
		parent::__construct($menuType,$styleBase);
	}
	public function listingHref($userTypeId = 0, $caption = 'AllUsers'){
		$link = $this->listing($userTypeId);
		$href = $this->formatHref($caption,$link);
		return $href;	
	}
	private function detailHref($pageAction = 'VIEW', $userId = 0, $caption = 'User'){
		$link = $this->detail($pageAction,$userId);
		$href = $this->formatHref($caption,$link);
		return $href;	
	}
	
	public function listing($userTypeId = 0){
		$link = 'sys_User_List.php';
		$link .= '?userTypeId='.$userTypeId;
		return $link;
	}
	//$pagingLinks = $this->base->links->pagingLinks($this->found,$this->resultPage,$this->perPage);	
	public function listingPaged($baseLink,$found, $resultPage, $perPage){
		$l = $baseLink.'&resultPageUsers=';
		$ls = $this->getPagedLinks($l, $found,$perPage,$resultPage);
		return $ls;
	}
		
	public function detail($pageAction = 'VIEW', $userId = 0, $userTypeId = 0){
		$link = 'sys_User_Detail.php?pageAction='.$pageAction;
		if ($userId != 0){
			$link .= '&userId='.$userId;
		}
		if ($userTypeId != 0){
			$link .= '&userTypeId='.$userTypeId;
		}

		return $link;
	}
	public function detailAddHref($caption = '+User',$userTypeId = 0){
		$l = $this->detailHref('ADD',0,$caption,$userTypeId);
		return $l;	
	}
	public function detailViewHref($userId,$caption = 'ViewUser'){
		$l = $this->detailHref('VIEW',$userId,$caption);
		return $l;	
	}
	public function detailEditHref($userId,$caption = 'EditUser'){
		$l = $this->detailHref('EDIT',$userId,$caption);
		return $l;	
	}
	public function detailViewEditHref($userId = 0, $viewCaption = 'ViewUser'){
		
		if ($userId != 0){
			$links = $this->detailViewHref($userId,$viewCaption);
			$links .= $this->detailEditHref($userId,'#');
		} else {
			$links = $this->listingHref();
		}
		return $links;
	}	
}
?>
