<?php 

class ProjectLinks extends _Links {
	public function __construct($menuType = 'DIV',$styleBase = 'menu'){
		parent::__construct($menuType,$styleBase);
	}
	
	public function listingAllProjects($showClosed = false){
//		$menu = $this->formatTextItem('AllProjects:');		
		$menu = $this->listingHref('OPEN','Projects');
		if ($showClosed == true){
			$menu .= $this->listingHref('CLOSED','ClosedProjects');	
		}
		return $menu;
	}
	
	public function listingMyProjects($showClosed = false){
		//$menu = $this->formatTextItem('MyProjects:');		
		$menu = $this->listingHref('OPEN','MyProjects','YES');
		if ($showClosed == true){
			$menu .= $this->listingHref('CLOSED','MyClosedProjects','YES');
		}
		return $menu;
	}
	public function listingHref($projectStatus = 'OPEN',$caption = 'Projects',$showMyProjects = 'NO'){
		$link = $this->listing($projectStatus,$showMyProjects);
		$href = $this->formatHref($caption,$link);
		return $href;	
	}	
	private function detailHref($pageAction = 'VIEW', $projectId = 0, $caption = 'Project'){
		$link = $this->detail($pageAction,$projectId);
		$href = $this->formatHref($caption,$link);
		return $href;	
	}
	public function listing($projectStatus = 'OPEN',$showMyProjects = 'NO'){
		$link = 'pr_Project_List.php'.'?projectStatus='.$projectStatus;
		if ($showMyProjects == 'YES'){
			$link .= '&showMyProjects=YES';
		}
		return $link;
	}
	public function listingPaged($status, $showMyProjects,$found, $resultPage, $perPage){
		$l = $this->listing($status,$showMyProjects).'&resultsPage=';
		$ls = $this->getPagedLinks($l, $found,$perPage,$resultPage);
		return $ls;
	}
	public function detail($pageAction, $projectId = 0){
		$link = 'pr_Project_Detail.php?pageAction='.$pageAction;
		if ($projectId != 0){
			$link .= '&projectId='.$projectId;
		}
		return $link;
	}	
	public function detailAddHref($caption = '+Project'){
		$l = $this->detailHref('ADD',0,$caption);
		return $l;	
	}
	public function detailViewHref($projectId,$caption = 'ViewProject'){
		$l = $this->detailHref('VIEW',$projectId,$caption);
		return $l;	
	}
	public function detailEditHref($projectId,$caption = 'EditProject'){
		$l = $this->detailHref('EDIT',$projectId,$caption);
		return $l;	
	}
	public function detailCopyHref($projectId,$caption = 'CopyProject'){
		$l = $this->detailHref('COPY',$projectId,$caption);
		return $l;	
	}
	public function detailViewEditHref($projectId = 0, $viewCaption = 'Project'){
		$links = '';
		if ($projectId != 0){
			$links .= $this->detailViewHref($projectId,$viewCaption);
			$links .= $this->detailEditHref($projectId,'#');
		}
		return $links;
	}	
	
}
?>




