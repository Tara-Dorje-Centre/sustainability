<?php
namespace application\system;


class userList extends \application\entityList{



	//public $userTypeId = 0;
 	public function __construct(){

		parent::__construct();

		$this->entityTitle = 'UserProfiles';
	 	$this->base = new user();

	}
	
	
	protected function makePageMenu(){
	
		$s = new \application\links\systemMenuLinks();
		$this->base->links->addLink($s->reference());


		if ($_SESSION['is-admin'] == 'yes'){
			$this->base->links->addLink($this->base->links->add('Add Profile'));
		}
		$this->base->links->addLink($this->base->links->contextList('All Profiles'));
	
		$this->_pageMenu = $this->base->links->print();
	}

	
	protected function listingQuickEdit(){ 
		if ($_SESSION['is-admin'] == 'yes'){
		$quickEdit = $this->base->addForm();		
		} else {
		$quickEdit = 'Please request Administrator assistance to add users';
		return $quickEdit;
		}
	}
	
	protected function listingSQL(){
		$s = $this->base->sql->list($this->base->f->type->id->value(),$this->resultPage,$this->perPage);
		return $s;
	}
			
}
?>
