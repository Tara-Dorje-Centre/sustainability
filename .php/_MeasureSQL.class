<?php 

class MeasureSQL implements IentitySQL{
protected function cols(){
$c = " m.id, ";
$c .= " m.task_id, ";
$c .= " m.location_id, ";
$c .= " m.name, ";
$c .= " m.description, ";
$c .= " m.date_reported, ";
$c .= " m.updated, ";
$c .= " m.value, ";
$c .= " m.measure_type_unit_id, ";
$c .= " m.notes, ";
$c .= " mtu.measure_type, ";
$c .= " mtu.unit_type, ";
$c .= " mtu.unit_symbol ";
return $c;	
}

protected function tables(){

	$t = " FROM measures AS m JOIN measure_type_units_v as mtu ";
	$t .= " ON m.measure_type_unit_id = mtu.measure_type_unit_id ";
	return $t;
}

public function info($id){
$q = " SELECT ";	

$q .= $this->cols();
$q .= $this->tables();
$q .= " WHERE  ";
$q .= " m.id = '".$id."' ";
return $q;
}
public function listTask($taskId, $page = 1, $rows = 10){
$q = " SELECT  ";
$q .= $this->cols();
$q .= $this->tables();
$q .= " WHERE  ";
$q .= " m.task_id = ".$selectedTaskId." ";
$q .= " ORDER BY ";
$q .= " m.date_reported, m.measure_type_unit_id, m.id ";
$q .= sqlLimitClause($resultPage, $rowsPerPage);
return $q;
}
public function countTask($selectedTaskId){
$q = " SELECT  ";
$q .= " COUNT(*) total_measures";
$q .= " FROM measures AS m ";
$q .= " WHERE  ";
$q .= " m.task_id = ".$selectedTaskId." ";
return $q;
}


public function count(){

}
public function list($page = 1, $rows = 10){
}
public function options($selectedId = 0, $disabled = 'false'){
}


}
?>
