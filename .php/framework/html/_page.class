<?php 
namespace html;

interface IhtmlPage{
	public function print();
}
class _page extends _echo
implements IhtmlPage,Iecho{
	protected $_document;
	protected $_container;

	protected $pageOnLoad = 'none';
	protected $pageTitle;
	protected $pageLinks;
	protected $_heading;	
	protected $_details;
	protected $pageContents;
	protected $pageFooterLinks;
	protected $pageFooterNotices;
	protected $pageFooterLogo;
	
	public function __construct(){
	
	
	}

	public function setPageStyles($styles)
		$this->pageStyles = $styles;

	}
	public function setPageScripts($scripts)
		$this->pageScripts = $scripts;

	
	}
	public function setPageTitle($title)
		$this->pageTitle = $title;
	}
	public function setPageLinks($links)
		$this->pageLinks = $links;
	}
	public function setPageContents($contents){
		$this->pageContents = $contents;
	}
	public function setPageFooterLinks($links){
		$this->pageFooterLinks = $links;
	}
	public function setPageFooterNotices($notices){
		$this->pageFooterNotices = $notices;
	}
	public function setPageFooterLogo($logo){
		$this->pageFooterNotices = $logo;
	}
	public function print(){		
		$content = $this->build();
		echo $content;		
		//close db connection
		global $conn;
		$conn->close;
	}

	protected function build(){		
		$this->echoPrint(true,'begin','build','htmlPage');
		$this->_document = new html\_document($this->pageTitle,$this->pageOnLoad);

		$this->_document->setStyles($this->pageStyles);
		$this->_document->setScripts($this->pageScripts);
		
		$this->_container = new html\_div('site-container');
		$this->_container->addContent($this->formatPageHeading());
		$this->_container->addContent($this->formatPageContents());	
		$this->_container->addContent($this->formatPageFooter());
		$this->_document->setContent($this->_container->print());
		// .= $this->documentClose();
	$this->echoPrint(true,'finished','build','htmlPage');
		return $this->_document->print();		
	}

	protected function documentOpen(){
		$this->echoPrint(true,'begin','documentOpen','htmlPage');
		
		return $content;	
	}
	
	protected function documentClose(){
		$content = $this->_container->close();
		$content .= $this->_document->close();
		return $content;
	}
	
	protected function formatPageHeading(){
		$this->echoPrint(true,'begin','siteHeading','htmlPage');
		$h = new html\_div('site-heading');
		$h->setContent($this->formatPageTitle());
		$h->addContent($this->formatPageLinks());
		return $h->print();
	}
	
	protected function formatPageTitle(){
		$t = new html\_div('site-heading-title');
		$t->setContent($this->pageTitle);
		return $t->print();
	}

	protected function formatPageLinks(){
		$l = new html\_div('site-heading-links');
		$l->setContent($this->pageLinks);
		return $l->print();
	}

	protected function formatPageContents(){
		$c = new html\_div('site-content');
		$c->setContent($this->pageContents);
		return $c->print();
	}
	
	protected function formatPageFooter(){
		$f = new html\_div('site-footer');
		$f->setContent($this->formatPageFooterLogo());
		$f->addContent($this->formatPageFooterNotices());
		$f->addContent($this->formatPageFooterLinks());
		return $f->print();
	}
	
	protected function formatPageFooterLogo(){
		$l = new html\_div('site-footer-logo');
		$l->setContent($this->pageFooterLogo);
		return $l->print();
	}
	protected function formatPageFooterNotices(){
		$n = new html\_div('site-footer-notices');
		$n->setContent($this->pageFooterNotices);
		return $n->print();
	}
	protected function formatPageFooterLinks(){	
		$l = new html\_div('site-footer-links');
		$l->setContent($this->pageFooterLinks);
		return $l->print();
	}

}


?>
