<?php 


abstract class _fieldsetProjectChild extends _fieldsetChild
implements  Ifieldset, Iecho, IcontentWriter{
	/*
	//from _fieldset
	public $id;
	public $name;		
	public $created;
    public $updated;
	public $description;
	public $highlight;
	//from _fieldsetChild
	public $parent;
	public $type;
	*/
//_fieldsetProjectChild
	public $project;
	public $location;
	public $started;
	public $approved;
	public $approvedBy;
	
    public function __construct(){
    	parent::__construct();
    	$this->project = new _fieldIdName('project_id','id-project','Project','project_name');
    	$this->location = new _fieldIdName('location_id','id-location','Location', 'location_name');
    	$this->started = new _dateField('started','started','Started');           
    	$this->approved = new _yesNoField('approved','approved','Approved');
    	$this->approvedBy = new _userField('approved_by','approved-by','Approved By');
    }
    protected function reset(){
    	parent::reset();
    	$this->project->reset(0);
    	$this->location->reset(0);
    	$this->started->reset('');
    	$this->approved->reset('');
    	$this->approvedBy->reset('n/a');
    	
    }
    public function setEnvironment(string $env = 'POST'){
		parent::setEnvironment($env);
		$this->project->setEnvironment($env);
		$this->location->setEnvironment($env);
		$this->started->setEnvironment($env);
    	$this->approved->setEnvironment($env);
    	$this->approvedBy->setEnvironment($env);
	}
    
	public function fetch($row){
		parent::fetch($row);
		$this->project->fetch($row);
		$this->location->fetch($row);
		$this->started->fetch($row);
    	$this->approved->fetch($row);
    	$this->approvedBy->fetch($row);
	}
	public function format(){
		parent::format();
		$this->project->format();
		$this->location->format();
		$this->started->format();
    	$this->approved->format();
    	$this->approvedBy->format();
	}
	public function displayDetail(){;
		$this->addContent(parent::displayDetail(),true);
		$this->addContent($this->location->displayDetail());		
		$this->addContent($this->project->displayDetail());		
		$this->addContent($this->started->displayDetail());		
		$this->addContent($this->approved->displayDetail());		
		$this->addContent($this->approvedBy->displayDetail());		
		return $this->getContent();
	}
	public function listCaption(){
		$this->addContent(parent::listCaption(),true);
		$this->addContent($this->location->listCaption());		
		$this->addContent($this->project->listCaption());		
		$this->addContent($this->started->listCaption());		
		$this->addContent($this->approved->listCaption());		
		$this->addContent($this->approvedBy->listCaption());		
		return $this->getContent();
	}
	public function listDetail(){
		$this->addContent(parent::listDetail(),true);
		$this->addContent($this->location->listDetail());
		$this->addContent($this->project->listDetail());
		$this->addContent($this->started->listDetail());		
		$this->addContent($this->approved->listDetail());		
		$this->addContent($this->approvedBy->listDetail());		
		return $this->getContent();
	}
	public function read(){
		parent::read();
		$this->project->read();
		$this->location->read();
		$this->started->read();
    	$this->approved->read();
    	$this->approvedBy->read();
	}
	
		public function write(){
		parent::write();
		$this->project->write();
		$this->location->write();
		$this->started->write();
    	$this->approved->write();
    	$this->approvedBy->write();
	}
	
}


?>
