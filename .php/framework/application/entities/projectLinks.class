<?php
namespace application\entities;

trait projectParameters{

	protected function setProjectParametersList(_url &$u,$status,$myProjects){
		$u->addParameter($this->pProjectStatus($status));
		$u->addParameter($this->pMyProjects($myProjects));
	} 
	protected function setProjectParametersDetail(_url &$u){
		/*$u->addParameter($this->pPageAction($action));
		$u->addParameter($this->pId($id));
		$u->addParameter($this->pIdParent($idParent));
		$u->addParameter($this->pIdType($idType));*/
	} 
	
	protected function pMyProjects($show){
		return $this->getParameter('my-projects',$show);
	}
	protected function pProjectStatus($status){
		return $this->getParameter('project-status',$show);
	}
}
class projectLinks extends _entityLinks {
	use projectParameters;
	public function __construct(){
		$context = 'user';
		$pageDetail = 'sys_User_Detail.php';
		$pageList = 'sys_User_List.php';
		parent::__construct( $context,$pageDetail, $pageList);
	}
	
	public function urlProjectList($idParent, $idType, $projectStatus, $myProjects){
		$this->pageList = 'pr_Project_List.php';
		$url = $this->urlList($idParent,$idType);
		$this->setProjectParametersList($url, $projectStatus, $myProjects);
		return $url;
	}
	
	public function urlProjectDetail($action = 'VIEW', $id, $idParent){
		$this->pageDetail = 'pr_Project_Detail.php';
		$url = $this->urlDetail($action,$id,$idParent);
		$this->setProjectParametersDetail($url);
		return $url;
	}	
	
	
	public function listAll($showClosed = false){
//		$menu = $this->formatTextItem('AllProjects:');		
		$menu = $this->listingHref('OPEN','Projects');
		if ($showClosed == true){
			$menu .= $this->listingHref('CLOSED','ClosedProjects');	
		}
		return $menu;
	}
	
	public function listMyProjects($showClosed = false){
		//$menu = $this->formatTextItem('MyProjects:');		
		$menu = $this->listingHref('OPEN','MyProjects','YES');
		if ($showClosed == true){
			$menu .= $this->listingHref('CLOSED','MyClosedProjects','YES');
		}
		return $menu;
	}/*
	
	public function listing($projectStatus = 'OPEN',$showMyProjects = 'NO'){
		$link = 'pr_Project_List.php'.'?projectStatus='.$projectStatus;
		if ($showMyProjects == 'YES'){
			$link .= '&showMyProjects=YES';
		}
		return $link;
	}
	public function listingPaged($status, $showMyProjects,$found, $resultPage, $perPage){
		$l = $this->listing($status,$showMyProjects).'&resultsPage=';
		$ls = $this->getPagedLinks($l, $found,$perPage,$resultPage);
		return $ls;
	}
	public 
	}
	*/
}
?>
