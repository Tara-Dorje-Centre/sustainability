<?php
namespace application\entities;


class userList extends _entityList{
protected $_MyClassName = 'UserList';
protected $titleEntity = 'UserProfiles';

	public $userTypeId = 0;
 	public function __construct($mode = 'VIEW', $id = 0, $idParent = 0){
		parent::__construct($mode, $id, $idParent);
	
	 	$this->base = new user($this-pageMode,$this->id,$this->idParent);
	}
	public function getRequestArguments(){



	}

	protected function setPageMenu(){
		$menuType = 'LIST';
		$menuStyle = 'menu';
		
		$userL = new UserLinks($menuType,$menuStyle);
		$menuL = new MenuLinks($menuType,$menuStyle);
		
		$menu = $userL->openMenu('section-heading-links');
		$menu .= $menuL->linkReference();
		$menu .= $userL->resetMenu();
		if ($_SESSION['is-admin'] == 'yes'){
			//only allow admins to add users
			$menu .= $userL->detailAddHref();
		}
		$menu .= $userL->listingHref();
		
		$menu .= $userL->closeMenu();
		$this->_pageMenu = $menu;			
	}
		
	protected function listingQuickEdit(){ 
		if ($_SESSION['is-admin'] == 'yes'){
		$quickEdit = $this->base->addForm();		
		} else {
		$quickEdit = 'Please request Administrator assistance to add users';
		return $quickEdit;
		}
	}
	
	protected function listingSQL(){
		$s = $this->base->sql->listUsers($this->base->f->typeEntity->id->value(),$this->resultPage,$this->perPage);
		return $s;
	}
			
}
?>
