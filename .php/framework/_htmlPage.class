<?php 

interface IhtmlPage{
	public function print();
}
class _htmlPage extends _echo
implements IhtmlPage,Iecho{
	protected $_document;
	protected $_container;
	protected $_title;
	protected $_styles;
	protected $_scripts;
	protected $_onLoad = 'none';

	protected $_links;
	protected $_heading;	
	protected $_details;
	protected $_contents;
	protected $_footerLinks;
	protected $_footerNotices;
	protected $_footerLogo;


	
	public function print(){		
		$content = $this->build();
		echo $content;		
		//close db connection
		global $conn;
		$conn->close;
	}

	protected function build(){		
	$this->echoPrint(true,'begin','build','htmlPage');
		$content = $this->documentOpen();
		$content .= $this->siteHeading();
		$content .= $this->siteContent();	
		$content .= $this->siteFooter();
		$content .= $this->documentClose();
	$this->echoPrint(true,'finished','build','htmlPage');
		return $content;		
	}

	protected function documentOpen(){
		$this->echoPrint(true,'begin','documentOpen','htmlPage');
		$this->_document = new html\_document($this->_title,$this->_onLoad);
		$this->_container = new html\_div('site-container');
		$this->_document->setStyles($this->_styles);
		$this->_document->setScripts($this->_scripts);
	
		$content = $this->_document->open();
		$content .= $this->_container->open();
		return $content;	
	}
	
	protected function documentClose(){
		$content = $this->_container->close();
		$content .= $this->_document->close();
		return $content;
	}
	
	protected function siteHeading(){
		$this->echoPrint(true,'begin','siteHeading','htmlPage');
		$heading = new html\_div('site-heading');
		$heading->setContent($this->siteTitle());
		$heading->addContent($this->siteLinks());
		return $heading->print();
	}

	protected function siteTitle(){
		$title = new html\_div('site-heading-title');
		$title->setContent($this->_title);
		return $title->print();
	}

	protected function siteLinks(){
		$links = new html\_div('site-heading-links');
		$links->setContent($this->_links);
		return $links->print();
	}

	protected function siteContent(){
		$content = new html\_div('site-content');
		$content->setContent($this->_contents);
		return $content->print();
	}

	protected function siteFooter(){
		$footer = new html\_div('site-footer');
		$footer->setContent($this->siteFooterLogos());
		$footer->addContent($this->siteFooterNotices());
		$footer->addContent($this->siteFooterLinks());
		return $footer->print();
	}

	protected function siteFooterLogos(){
		$logos = new html\_div('site-footer-logos');
		$logos->setContent($this->_footerLogo);
		return $logos->print();
	}

	protected function siteFooterNotices(){
		$notices = new html\_div('site-footer-notices');
		$notices->setContent($this->_footerNotices);
		return $notices->print();
	}

	protected function siteFooterLinks(){	
		$links = new html\_div('site-footer-links');
		$links->setContent($this->_footerLinks);
		return $links->print();
	}



}


?>
